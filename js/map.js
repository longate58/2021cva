var map = L.map('map').setView([10.4869, -66.5287], 14); // Málaga

var osmBase = L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
  attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap<\/a> contributors Long Art Digital'
}).addTo(map);



/// ---- Polígono  ----

var geojsonFeaturePolygon = [
  {
    "type": "Feature",
    "properties": {},
    "geometry": {
      "type": "Polygon",
      "coordinates": [
        [
          [-66.5323790,  10.4716798],
          [-66.5326960,  10.4702744],
          [-66.5359865,  10.4717293],
          [-66.5369478,  10.4707729],
          [-66.5373285,  10.4713385],
          [-66.5328009,  10.4700024],
          [-66.5360169,  10.4719184],
          [-66.5333786,  10.4712385],
          [-66.5329489,  10.4697406],
          [-66.5340041,  10.4710520],
          [-66.5364329,  10.4714065],
          [-66.5349333,  10.4713658],
          [-66.5325678,  10.4708434],
          [-66.5324533,  10.4713516],
          [-66.5328940,  10.4698376],
          [-66.5369228,  10.4746789],
          [-66.5378036,  10.4723684],
          [-66.5370122,  10.4742668],
          [-66.5371114,  10.4738002],
          [-66.5372314,  10.4735605],
          [-66.5374576,  10.4730886],
          [-66.5348586,  10.4808046],
          [-66.5345388,  10.4814087],
          [-66.5340926,  10.4822464],
          [-66.5347034,  10.4811053],
          [-66.5359462,  10.4787767],
          [-66.5361060,  10.4782613],
          [-66.5364283,  10.4768478],
          [-66.5353248,  10.4798092],
          [-66.5346338,  10.4812337],
          [-66.5351012,  10.4801928],
          [-66.5350874,  10.4802277],
          [-66.5351251,  10.4801325],
          [-66.5357418,  10.4791344],
          [-66.5404302,  10.4859959],
          [-66.5404871,  10.4881737],
          [-66.5400727,  10.4832674],
          [-66.5407641,  10.4856905],
          [-66.5403308,  10.4867316],
          [-66.5403399,  10.4868152],
          [-66.5362437,  10.4832594],
          [-66.5371128,  10.4832653],
          [-66.5362150,  10.4837001],
          [-66.5384889,  10.4833150],
          [-66.5372745,  10.4832711],
          [-66.5352009,  10.4832406],
          [-66.5344182,  10.4829035],
          [-66.5338726,  10.4826688],
          [-66.5339625,  10.4827251],
          [-66.5338971,  10.4826995],
          [-66.5339845,  10.4827337],
          [-66.5344759,  10.4829284],
          [-66.5350016,  10.4831548],
          [-66.5403664,  10.4898808],
          [-66.5402950,  10.4899396],
          [-66.5401661,  10.4901456],
          [-66.5400786,  10.4904217],
          [-66.5400891,  10.4905138],
          [-66.5400533,  10.4906616],
          [-66.5398784,  10.4907182],
          [-66.5398876,  10.4910645],
          [-66.5399774,  10.4921962],
          [-66.5400625,  10.4925176],
          [-66.5401730,  10.4932509],
          [-66.5401224,  10.4935882],
          [-66.5402191,  10.4937602],
          [-66.5401914,  10.4938462],
          [-66.5397301,  10.4945786],
          [-66.5392794,  10.4949409],
          [-66.5398192,  10.4908428],
          [-66.5398254,  10.4917684],
          [-66.5400395,  10.4923388],
          [-66.5393067,  10.4950863],
          [-66.5397356,  10.4945745],
          [-66.5399873,  10.4941402],
          [-66.5401536,  10.4930588],
          [-66.5400746,  10.4928561],
          [-66.5400559,  10.4926864],
          [-66.5399617,  10.4920426],
          [-66.5399206,  10.4919311],
          [-66.5398276,  10.4916702],
          [-66.5398856,  10.4915439],
          [-66.5399102,  10.4912969],
          [-66.5399800,  10.4906853],
          [-66.5403692,  10.4898411],
          [-66.5401173,  10.4902997],
          [-66.5407566,  10.5000058],
          [-66.5399246,  10.5005958],
          [-66.5406841,  10.4977727],
          [-66.5404736,  10.4979535],
          [-66.5412683,  10.4998282],
          [-66.5404914,  10.4983996],
          [-66.5407157,  10.4975705],
          [-66.5404136,  10.5003391],
          [-66.5391351,  10.5018761],
          [-66.5395209,  10.5011931],
          [-66.5409748,  10.4993409],
          [-66.5407551,  10.4987585],
          [-66.5404545,  10.4982506],
          [-66.5404706,  10.4970591],
          [-66.5402213,  10.4960255],
          [-66.5351646,  10.4992888],
          [-66.5334366,  10.4993498],
          [-66.5341466,  10.4995138],
          [-66.5373206,  10.5012918],
          [-66.5377206,  10.5017238],
          [-66.5357965,  10.4993319],
          [-66.5325168,  10.4992654],
          [-66.5348851,  10.4993703],
          [-66.5361158,  10.4997300],
          [-66.5364204,  10.5001448],
          [-66.5366892,  10.5005300],
          [-66.5369775,  10.5009236],
          [-66.5378858,  10.5020571],
          [-66.5261250,  10.4691887],
          [-66.5264179,  10.4692153],
          [-66.5257788,  10.4693052],
          [-66.5258824,  10.4692603],
          [-66.5278821,  10.4693800],
          [-66.5278175,  10.4693858],
          [-66.5262472,  10.4691817],
          [-66.5256529,  10.4693601],
          [-66.5286570,  10.4696819],
          [-66.5308313,  10.4698906],
          [-66.5311478,  10.4700699],
          [-66.5313141,  10.4704445],
          [-66.5315056,  10.4710400],
          [-66.5283459,  10.4696345],
          [-66.5269994,  10.4694340],
          [-66.5272131,  10.4694354],
          [-66.5276598,  10.4694000],
          [-66.5291652,  10.4696304],
          [-66.5309739,  10.4699560],
          [-66.5320921,  10.4715185],
          [-66.5318605,  10.4713295],
          [-66.5313721,  10.4707922],
          [-66.5312284,  10.4701867],
          [-66.5313122,  10.4704389],
          [-66.5303150,  10.4698084],
          [-66.5299856,  10.4697447],
          [-66.5290475,  10.4696193],
          [-66.5280991,  10.4694452],
          [-66.5279912,  10.4694002],
          [-66.5316635,  10.4711688],
          [-66.5251728,  10.4696793],
          [-66.5248832,  10.4698112],
          [-66.5246257,  10.4698323],
          [-66.5240820,  10.4705918],
          [-66.5241163,  10.4710466],
          [-66.5227109,  10.4756173],
          [-66.5238692,  10.4718710],
          [-66.5243704,  10.4697849],
          [-66.5234819,  10.4734457],
          [-66.5231605,  10.4747313],
          [-66.5255896,  10.4693902],
          [-66.5254487,  10.4694867],
          [-66.5254532,  10.4694836],
          [-66.5252533,  10.4696225],
          [-66.5234268,  10.4736661],
          [-66.5227706,  10.4754997],
          [-66.5227211,  10.4755972],
          [-66.5241154,  10.4704983],
          [-66.5289616,  10.4802147],
          [-66.5287736,  10.4818422],
          [-66.5299751,  10.4802118],
          [-66.5265904,  10.4794110],
          [-66.5275680,  10.4798111],
          [-66.5300190,  10.4799621],
          [-66.5299947,  10.4800779],
          [-66.5291683,  10.4817897],
          [-66.5285084,  10.4819609],
          [-66.5282551,  10.4821766],
          [-66.5263722,  10.4793257],
          [-66.5293413,  10.4800562],
          [-66.5272127,  10.4796657],
          [-66.5300162,  10.4799754],
          [-66.5294822,  10.4811758],
          [-66.5295749,  10.4809945],
          [-66.5299586,  10.4802440],
          [-66.5299797,  10.4801800],
          [-66.5299872,  10.4801289],
          [-66.5283254,  10.4800599],
          [-66.5291399,  10.4801046],
          [-66.5289253,  10.4818220],
          [-66.5280657,  10.4824736],
          [-66.5236906,  10.4782774],
          [-66.5224755,  10.4771862],
          [-66.5228464,  10.4764656],
          [-66.5253273,  10.4789172],
          [-66.5232978,  10.4779247],
          [-66.5273090,  10.4836590],
          [-66.5271129,  10.4840581],
          [-66.5266769,  10.4888245],
          [-66.5264458,  10.4884517],
          [-66.5262527,  10.4881403],
          [-66.5257741,  10.4857176],
          [-66.5259052,  10.4851269],
          [-66.5265220,  10.4854031],
          [-66.5268550,  10.4846932],
          [-66.5275732,  10.4833961],
          [-66.5279387,  10.4826727],
          [-66.5273834,  10.4833241],
          [-66.5276781,  10.4831114],
          [-66.5279187,  10.4827064],
          [-66.5277789,  10.4829417],
          [-66.5276837,  10.4831020],
          [-66.5273112,  10.4836492],
          [-66.5263755,  10.4883384],
          [-66.5279587,  10.4826414],
          [-66.5272968,  10.4836838],
          [-66.5259602,  10.4879308],
          [-66.5220318,  10.4878179],
          [-66.5249034,  10.4876482],
          [-66.5254580,  10.4880724],
          [-66.5226585,  10.4880577],
          [-66.5244897,  10.4876880],
          [-66.5197715,  10.4881027],
          [-66.5203065,  10.4882541],
          [-66.5222906,  10.4879754],
          [-66.5231410,  10.4881087],
          [-66.5236956,  10.4880602],
          [-66.5216375,  10.4878771],
          [-66.5211744,  10.4880750],
          [-66.5230504,  10.4851077],
          [-66.5194310,  10.4878748],
          [-66.5209051,  10.4880700],
          [-66.5252016,  10.4877984],
          [-66.5185556,  10.4850368],
          [-66.5169006,  10.4852568],
          [-66.5160706,  10.4856668],
          [-66.5157936,  10.4859338],
          [-66.5158736,  10.4867708],
          [-66.5162646,  10.4874018],
          [-66.5189878,  10.4874180],
          [-66.5183839,  10.4871756],
          [-66.5172377,  10.4875028],
          [-66.5189638,  10.4847581],
          [-66.5165689,  10.4885785],
          [-66.5176444,  10.4871998],
          [-66.5185934,  10.4874059],
          [-66.5163944,  10.4880746],
          [-66.5158207,  10.4859077],
          [-66.5161283,  10.4856383],
          [-66.5258551,  10.4943507],
          [-66.5270572,  10.4941923],
          [-66.5276296,  10.4938084],
          [-66.5281345,  10.4934698],
          [-66.5279847,  10.4917651],
          [-66.5277534,  10.4910879],
          [-66.5275104,  10.4907949],
          [-66.5269664,  10.4901391],
          [-66.5267152,  10.4901809],
          [-66.5262766,  10.4894273],
          [-66.5262724,  10.4892683],
          [-66.5265917,  10.4890966],
          [-66.5278653,  10.4912227],
          [-66.5276461,  10.4937973],
          [-66.5266564,  10.4941947],
          [-66.5256178,  10.4943974],
          [-66.5282442,  10.4929439],
          [-66.5265852,  10.4899575],
          [-66.5273221,  10.4905679],
          [-66.5262211,  10.4942730],
          [-66.5200416,  10.4944328],
          [-66.5252718,  10.4950666],
          [-66.5255358,  10.4944428],
          [-66.5227999,  10.4947237],
          [-66.5237985,  10.4948622],
          [-66.5275476,  10.4985788],
          [-66.5299026,  10.4987208],
          [-66.5258856,  10.4987768],
          [-66.5263026,  10.4989888],
          [-66.5303046,  10.4991508],
          [-66.5267086,  10.4992738],
          [-66.5320556,  10.4994558],
          [-66.5305916,  10.4996958],
          [-66.5308336,  10.5003208],
          [-66.5283904,  10.4984950],
          [-66.5301769,  10.4990142],
          [-66.5316842,  10.4997541],
          [-66.5273006,  10.4987834],
          [-66.5200886,  10.4968518],
          [-66.5250596,  10.4986848],
          [-66.5227906,  10.5010598],
          [-66.5200723,  10.4961225],
          [-66.5223387,  10.5016523],
          [-66.5240154,  10.4998753],
          [-66.5172966,  10.4985048],
          [-66.5168386,  10.4993388],
          [-66.5143076,  10.4993968],
          [-66.5159576,  10.4997988],
          [-66.5127756,  10.5001438],
          [-66.5129286,  10.5009828],
          [-66.5136756,  10.5016108],
          [-66.5176326,  10.5018568],
          [-66.5182784,  10.4976386],
          [-66.5151596,  10.4995471],
          [-66.5164458,  10.5020273],
          [-66.5390856,  10.5022248],
          [-66.5380156,  10.5022608],
          [-66.5384446,  10.5028548],
          [-66.5382526,  10.5029588],
          [-66.5214546,  10.5027238],
          [-66.5197096,  10.5043848],
          [-66.5196846,  10.5047568],
          [-66.5197506,  10.5052228],
          [-66.5194106,  10.5060568],
          [-66.5201527,  10.5035445],
          [-66.5209560,  10.5029953],
          [-66.5217101,  10.5024939],
          [-66.5175876,  10.5027008],
          [-66.5149096,  10.5028718],
          [-66.5132336,  10.5043338],
          [-66.5173056,  10.5046368],
          [-66.5134336,  10.5053628],
          [-66.5173336,  10.5060408],
          [-66.5171196,  10.5064838],
          [-66.5171966,  10.5068768],
          [-66.5188616,  10.5068898],
          [-66.5174336,  10.5069998],
          [-66.5175526,  10.5071818],
          [-66.5180096,  10.5072568],
          [-66.5180556,  10.5077208],
          [-66.5181476,  10.5079498],
          [-66.5185066,  10.5084228],
          [-66.5185866,  10.5085628],
          [-66.5182956,  10.5086328],
          [-66.5138046,  10.5027468],
          [-66.5136422,  10.5034364],
          [-66.5142276,  10.5044106],
          [-66.5152246,  10.5024732],
          [-66.5173725,  10.5053781],
          [-66.5187962,  10.5073416],
          [-66.5184759,  10.5086388],
          [-66.5183666,  10.5087138],
          [-66.5323790,  10.4716798]



        ]
      ]
    }
  }
];

function stylePolygon(feature) {
  return {
    weight: 1.5, // grosor de línea
    color: 'green', // color de línea
    opacity: 1.0, // tansparencia de línea
    fillColor: 'orange', // color de relleno
    fillOpacity: 0.15 // transparencia de relleno
  };
};

var polygon = new L.geoJson(geojsonFeaturePolygon, {
  style: stylePolygon
}).addTo(map);

var baseMaps = {
  "OSM": osmBase
};

var overlayMaps = {
  "Línea": line,
  "Polígono": polygon
};

L.control.layers(baseMaps, overlayMaps,{
  position: 'topright', // 'topleft', 'bottomleft', 'bottomright'
  collapsed: false // true
}).addTo(map);


//---------------------------------------------------
//Agrega nuestro marcador
    let iconMarker = L.icon({ 
        iconUrl: 'assets/marker.png',
        iconSize: [35, 60],
        iconAnchor: [30, 60]
    })

    let marker2 = L.marker([10.4819, -66.5297], { icon: iconMarker }).addTo(myMap)
L.control.scale().addTo(myMap);